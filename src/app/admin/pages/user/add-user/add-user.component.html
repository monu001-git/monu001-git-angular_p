<div class="container mt-3">
    <div class="d-flex justify-content-between align-items-center mb-4">

        <h5 class="mb-0 text-dark">
            {{ updateID ? 'Update User' : 'Add User' }}
        </h5>

        <button routerLink="/admin/user" class="btn btn-success">Show User</button>
    </div>

    <form [formGroup]="submitForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
            <label for="firstName" class="form-label text-dark">First Name</label>
            <input type="text" formControlName="fname" class="form-control" id="firstName"
                placeholder="Enter first name">
            <div class="text-danger"
                *ngIf="submitForm.get('fname')?.invalid && (submitForm.get('fname')?.dirty || submitForm.get('fname')?.touched)">
                <div *ngIf="submitForm.get('fname')?.errors?.['required']">
                    First Name is required.
                </div>
            </div>

        </div>

        @if(paramsdata.id){
        <input type="hidden" formControlName="id">
        <input type="hidden" formControlName="password">
        }
        <input type="hidden" formControlName="status">


        <div class="mb-3">
            <label for="lastName" class="form-label text-dark">Last Name</label>
            <input type="text" formControlName="lname" class="form-control" id="lastName" placeholder="Enter last name">

            <div class="text-danger"
                *ngIf="submitForm.get('lname')?.invalid && (submitForm.get('lname')?.dirty || submitForm.get('lname')?.touched)">
                <div *ngIf="submitForm.get('lname')?.errors?.['required']">
                    Last Name is required.
                </div>
            </div>

        </div>

        <div class="mb-3">
            <label for="email" class="form-label text-dark">Email address</label>
            <input type="email" formControlName="email" class="form-control" id="email" placeholder="Enter email">

            <div class="text-danger"
                *ngIf="submitForm.get('email')?.invalid && (submitForm.get('email')?.dirty || submitForm.get('email')?.touched)">
                <div *ngIf="submitForm.get('email')?.errors?.['required']">
                    Email is required.
                </div>
                <div class="text-danger" *ngIf="submitForm.get('email')?.errors?.['email']">
                    Invalid email format.
                </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="description" class="form-label text-dark">Description</label>
            <textarea class="form-control" formControlName="description" id="description" rows="3"
                placeholder="Enter description"></textarea>

            <div class="text-danger"
                *ngIf="submitForm.get('description')?.invalid && (submitForm.get('description')?.dirty || submitForm.get('description')?.touched)">
                <div *ngIf="submitForm.get('description')?.errors?.['required']">
                    Description is required.
                </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="country" class="form-label text-dark">Country</label>
            <select class="form-select" formControlName="country" id="country">
                <option value="" disabled selected>Select an option</option>
                <option value="1">Option 1</option>
                <option value="2">Option 2</option>
                <option value="3">Option 3</option>
            </select>

            <div class="text-danger"
                *ngIf="submitForm.get('country')?.invalid && (submitForm.get('country')?.dirty || submitForm.get('country')?.touched)">
                <div *ngIf="submitForm.get('country')?.errors?.['required']">
                    Country is required.
                </div>
            </div>

        </div>
        <div class="mb-3">
            <label for="State" class="form-label text-dark">State</label>
            <select class="form-select" formControlName="state" id="State">
                <option value="" disabled selected>Select an option</option>
                <option value="1">Option 1</option>
                <option value="2">Option 2</option>
                <option value="3">Option 3</option>
            </select>

            <div class="text-danger"
                *ngIf="submitForm.get('state')?.invalid && (submitForm.get('state')?.dirty || submitForm.get('state')?.touched)">
                <div *ngIf="submitForm.get('state')?.errors?.['required']">
                    State is required.
                </div>
            </div>

        </div>

        <fieldset class="mb-3">
            <legend class="col-form-label text-dark">Gender</legend>
            <div class="form-check">
                <input class="form-check-input" formControlName="gender" type="radio" id="male" value="male">
                <label class="form-check-label" for="male">Male</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" formControlName="gender" type="radio" id="female" value="female">
                <label class="form-check-label" for="female">Female</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" formControlName="gender" type="radio" id="other" value="other">
                <label class="form-check-label" for="other">Other</label>
            </div>

            <div class="text-danger"
                *ngIf="submitForm.get('gender')?.invalid && (submitForm.get('gender')?.dirty || submitForm.get('gender')?.touched)">
                <div *ngIf="submitForm.get('gender')?.errors?.['required']">
                    gender is required.
                </div>
            </div>

        </fieldset>

        <fieldset>
            <legend class="col-form-label text-dark">Choose your interests</legend>
            <div class="form-check">
                <label class="form-check-label" for="coding">Coding</label>
                <input class="form-check-input" type="checkbox" id="coding" formControlName="interest" value="coding" />

            </div>
            <div class="form-check">
                <label class="form-check-label" for="music">Music</label>
                <input class="form-check-input" type="checkbox" id="music" formControlName="interest" value="music" />

            </div>

            <div class="text-danger"
                *ngIf="submitForm.get('interest')?.invalid && (submitForm.get('interest')?.dirty || submitForm.get('interest')?.touched)">
                <div *ngIf="submitForm.get('interest')?.errors?.['required']">
                    interest is required.
                </div>
            </div>
        </fieldset><br>



        <div class="rows">
            <div class="col-6">

                <div class="mb-3">
                    <label for="fileUpload" class="form-label text-dark">Upload Profile</label><br>
                    <input type="file" formControlName="file" (change)="onFileSelected($event)" id="fileUpload" />


                    <div class="text-danger"
                        *ngIf="submitForm.get('file')?.invalid && (submitForm.get('file')?.dirty || submitForm.get('file')?.touched)">
                        <div *ngIf="submitForm.get('file')?.errors?.['required']">
                            profile is required.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div style="text-align: right;">
                    <div *ngIf="imageData">
                        <img [src]="imageData" alt="User Image" style="max-width: 70%; height: 70;" />
                    </div>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>

    </form>
</div>